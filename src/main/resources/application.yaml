spring:
  application:
    name: booking-tour
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}

  mail:
    host: ${MAIL_HOST:localhost}
    port: ${MAIL_PORT:587}
    username: ${MAIL_USERNAME:}
    password: ${MAIL_PASSWORD:}
    from: ${MAIL_FROM:${MAIL_USERNAME:}}
    properties:
      mail:
        debug: ${MAIL_DEBUG:false}
        smtp:
          auth: ${MAIL_SMTP_AUTH:true}
          starttls:
            enable: ${MAIL_SMTP_STARTTLS_ENABLE:true}

  datasource:
    url: jdbc:postgresql://${DB_HOST}:${DB_PORT}/${DB_NAME}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.PostgreSQLDialect

  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}
      password: ${REDIS_PASSWORD:}
      timeout: 3000ms

  rabbitmq:
    host: ${RABBITMQ_HOST:localhost}
    port: ${RABBITMQ_PORT:5672}
    username: ${RABBITMQ_USERNAME:guest}
    password: ${RABBITMQ_PASSWORD:guest}

  jms:
    pub-sub-domain: false

jms:
  queue:
    email: ${JMS_QUEUE_EMAIL:email.booking.queue}

rabbitmq:
  exchange:
    email: ${RABBITMQ_EXCHANGE_EMAIL:email.exchange}
  queue:
    email: ${RABBITMQ_QUEUE_EMAIL:email.queue}
  routing-key:
    email: ${RABBITMQ_ROUTING_KEY_EMAIL:email.booking}

mail:
  queue:
    redis:
      key: ${MAIL_QUEUE_REDIS_KEY:mail:queue}
    pop-timeout-ms: ${MAIL_QUEUE_POP_TIMEOUT_MS:1000}
    worker-interval-ms: ${MAIL_QUEUE_WORKER_INTERVAL_MS:200}
    max-attempts: ${MAIL_QUEUE_MAX_ATTEMPTS:5}
    base-backoff-ms: ${MAIL_QUEUE_BASE_BACKOFF_MS:5000}

server:
  port: ${SERVER_PORT:8080}

# JWT Configuration
jwt:
  secret: ${JWT_SECRET}
  expiration: ${JWT_EXPIRATION} # 1 hour in milliseconds
  refresh-expiration: ${JWT_REFRESH_EXPIRATION} # 7 days in milliseconds

# OAuth Configuration
oauth:
  google:
    client-id: ${GOOGLE_CLIENT_ID}
    client-secret: ${GOOGLE_CLIENT_SECRET}
    redirect-uri: ${GOOGLE_REDIRECT_URI}
  facebook:
    client-id: ${FACEBOOK_CLIENT_ID}
    client-secret: ${FACEBOOK_CLIENT_SECRET}
    redirect-uri: ${FACEBOOK_REDIRECT_URI}
  twitter:
    client-id: ${TWITTER_CLIENT_ID}
    client-secret: ${TWITTER_CLIENT_SECRET}
    redirect-uri: ${TWITTER_REDIRECT_URI}

# File Upload Configuration
file:
  upload:
    dir: ${FILE_UPLOAD_DIR:uploads}
    base-url: ${FILE_UPLOAD_BASE_URL:http://localhost:8080/uploads}

# Swagger/OpenAPI Configuration
springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    enabled: true

stripe:
  secret-key: ${STRIPE_SECRET_KEY:}
  success-url: ${STRIPE_SUCCESS_URL:http://localhost:8080/api/v1/payments/stripe/success?session_id={CHECKOUT_SESSION_ID}}
  cancel-url: ${STRIPE_CANCEL_URL:http://localhost:8080/api/v1/payments/stripe/cancel?session_id={CHECKOUT_SESSION_ID}}
  currency: ${STRIPE_CURRENCY:usd}

